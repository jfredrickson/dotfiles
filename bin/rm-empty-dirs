#!/bin/bash

if [ x"$1" = xdo ]
then
    dir='.'
    act=do
elif [ x$2 = xdo ]
then
    dir="$1"
    act="do"
elif [ -z "$1" ]
then
    dir='.'
else
    dir="$1"
fi

if [ x$act = xdo ]
then    # act
        find "$dir" -type d -empty | xargs rmdir --verbose
else    # no act
        echo 'Directories that would be deleted:'
        echo
        find "$dir" -type d -empty
        echo
        echo 'Execute "'$0 $1 do'" to delete them.'
fi
